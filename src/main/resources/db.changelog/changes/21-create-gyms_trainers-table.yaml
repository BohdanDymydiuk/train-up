- changeSet:
    id: 21-create-gyms_trainers-table
    author: bohdan-s
    changes:
      - createTable:
          tableName: gyms_trainers
          columns:
            - column:
                name: gym_id
                type: BIGINT
                constraints:
                  nullable: false
                  foreignKeyName: fk_gyms_trainers_gym
                  references: gyms(id)
            - column:
                name: trainer_id
                type: BIGINT
                constraints:
                  nullable: false
                  foreignKeyName: fk_gyms_trainers_trainer
                  references: trainers(id)
      - addUniqueConstraint:
          tableName: gyms_trainers
          columnNames: gym_id, trainer_id
          constraintName: uk_gyms_trainers
      - createIndex:
          tableName: gyms_trainers
          indexName: idx_gyms_trainers_gym_id
          columns:
            - column:
                name: gym_id
      - createIndex:
          tableName: gyms_trainers
          indexName: idx_gyms_trainers_trainer_id
          columns:
            - column:
                name: trainer_id
